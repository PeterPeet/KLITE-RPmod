	.containAndScaleImage {
	    aspect-ratio: 1;
	    background-clip: content-box;
	    background-position: 50% 50%;
	    background-size: 100% 100%;
	    background-origin: content-box;
	    background-repeat: no-repeat;
	}

	#popupContainer>.nspopup {
	    max-height: 80%;
	    max-width: 80%;
	}

	#popupContainer .popuptitlebar {
	    height: 40px;
	}

	#popupContainer .popupContent {
	    overflow-y: auto;
	    overflow-x: hidden;
	}

	#popupContainer .popupfooter {
	    display: block;
	}

	#popupContainer .popupfooter button {
	    width: unset;
	}

	/* Ensure form fields are readable inside popups */
	#popupContainer .popupContent input[type="text"],
	#popupContainer .popupContent input[type="file"],
	#popupContainer .popupContent textarea,
	#popupContainer .popupContent select {
	    background-color: var(--theme_color_input_bg);
	    border-color: var(--theme_color_border);
	    color: var(--theme_color_input_text);
	    border: 1px solid var(--colgrey, #ccc);
	    border-radius: 6px;
	    padding: 6px 8px;
	    box-sizing: border-box;
	}

	.containAndScaleImage.tile {
		height: 128px;
		width: 128px;
		border-radius: 25px;
		text-align: center;
		word-wrap: break-word;
	}

	.containAndScaleImage.tile>b {
	    text-shadow: 2px 2px 5px #ffffff;
	    color: white;
	    background-color: black;
	    border-radius: 4px;
	    font-weight: bold;
	    padding: 2px;
	}

	.fillContainer {
	    height: 100%;
	    width: 100%;
	}

	.autoGrid {
	    display: grid;
		border: dashed var(--theme_color_border);
	    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
	    padding: 12px;
	    gap: 12px;
	}

	.autoGrid>* {
	    display: block;
	}

	.characterCreatorGrid {
	    color: var(--theme_color_text);
	    padding: 10px;
	    display: grid;
	    grid-template-columns: 1fr 1fr;
	    gap: 8px;
	    min-width: 600px;
	}

	#popupContainer .popupfooter .navtoggler {
		display: none;
	}

	@media (max-width: 800px) {
	    .characterCreatorGrid {
	        grid-template-columns: 1fr;
	    }
		#popupContainer.mobileMenu:not(.expanded) .popupfooter {
			height: 70px;
		}
		#popupContainer.mobileMenu:not(.expanded) .popupfooter > * {
			display: none;
		}
		#popupContainer.mobileMenu .popupfooter {
			overflow-y: auto;
		}
		#popupContainer.mobileMenu .popupfooter .navtoggler {
			display: block;
			width: 60px;
		}
	}

	/* Fix for weird sizing issue in sidebars */
	#settingscontainer.side.popupcontainer,
	.popupcontainer.sideright {
	    justify-content: unset;
	}

	.buttonGroup > span {
		color: var(--theme_color_text);
		background-color: var(--theme_color_topbtn);
		border-radius: 10px;
		text-align: center;
		padding-top: 10px;
	}

	.scrollToButtons {
		position: sticky;
		top: 0px;
		float: right;
	}